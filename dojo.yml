id: software-security

name: CSE SCS2081 - Fall 2023 - 软件安全

description: |
  绝对安全的软件系统现在不存在，将来也不会存在。

type: course

award:
  emoji: 😀

modules:
  - id: simple-demo
    name: Simple Demo
    description: |
      本模块包含一些简单的演示关卡，帮助学生更快地熟悉我们的平台。
      \
      \
      **关卡等级分布：**
      - Level 1.0 - 直接读取 /flag，并将其打印出来（Python 语言）
      - Level 1.1 - 直接读取 /flag，并将其打印出来（C 语言）
    challenges:
      - id: level-1-0
        name: Level 1.0
        description: "本关卡直接读取 /flag，并将其打印出来。"

      - id: level-1-1
        name: Level 1.1
        description: "本关卡直接读取 /flag，并将其打印出来。"

  - id: setuid-backdoor
    name: SetUID Backdoor
    description: |
      SUID 允许任何拥有文件执行权限的用户，以当前文件所属者（通常是 root）的权限执行该文件。
      \
      \
      **关卡等级分布：**
      - Level 1.0 - 利用设置了 SUID 的 /usr/bin/cat 命令读取 /flag
      - Level 1.1 - 利用设置了 SUID 的 /usr/bin/vim 命令读取 /flag 
      - Level 1.2 - 利用设置了 SUID 的 /usr/bin/hexedit 命令读取 /flag
      - Level 2.0 - 理解 /usr/bin/rev 功能，并通过设置了 SUID 的该命令获取 /flag 
      - Level 2.1 - 理解 /usr/bin/gzip 功能，并通过设置了 SUID 的该命令获取 /flag 
      - Level 2.2 - 理解 /usr/bin/date 功能，并通过设置了 SUID 的该命令获取 /flag 
      - Level 3.0 - 学习 /usr/bin/chmod 命令设置文件权限，并通过设置了 SUID 的该命令获取 /flag 
      - Level 3.1 - 学习 /usr/bin/chown 命令设置文件权限，并通过设置了 SUID 的该命令获取 /flag 
      - Level 3.2 - 学习 /usr/bin/cp 命令设置文件权限，并通过设置了 SUID 的该命令获取 /flag 
      - Level 4.0 - 学习 /usr/bin/python 解释器的语法，并编程实现获取 /flag 
      - Level 4.1 - 学习 /usr/bin/perl 解释器的语法，并编程实现获取 /flag 
      - Level 4.2 - 学习 /usr/bin/perl 解释器的语法，并编程实现获取 /flag
    challenges:
      - id: level-1-0
        name: Level 1.0
        description: "本关卡设置一些实用程序(如，/usr/bin/cat)，帮助读取 /flag。"

      - id: level-1-1
        name: Level 1.1
        description: "本关卡设置一些实用程序(如，/usr/bin/vim)，帮助读取 /flag。"

      - id: level-1-2
        name: Level 1.2
        description: "本关卡设置一些实用程序(如，/usr/bin/hexedit)，帮助读取 /flag。"

      - id: level-2-0
        name: Level 2.0
        description: "本关卡需要理解一些实用程序(如，/usr/bin/rev)，并巧妙利用该程序获取 /flag。"

      - id: level-2-1
        name: Level 2.1
        description: "本关卡需要理解一些实用程序(如，/usr/bin/gzip)，并巧妙利用该程序获取 /flag。"

      - id: level-2-2
        name: Level 2.2
        description: "本关卡需要理解一些实用程序(如，/usr/bin/date)，并巧妙利用该程序获取 /flag。"

      - id: level-3-0
        name: Level 3.0
        description: "本关卡需要通过一些实用程序(如，/usr/bin/chmod)巧妙地设置文件权限来读取 /flag。"

      - id: level-3-1
        name: Level 3.1
        description: "本关卡需要通过一些实用程序(如，/usr/bin/chown)巧妙地设置文件权限来读取 /flag。"

      - id: level-3-2
        name: Level 3.2
        description: "本关卡需要通过一些实用程序(如，/usr/bin/cp)巧妙地设置文件权限来读取 /flag。"

      - id: level-4-0
        name: Level 4.0
        description: "本关卡设置一些程序解释器(如，/usr/bin/python)，并需要结合相应编程知识来读取 /flag。"

      - id: level-4-1
        name: Level 4.1
        description: "本关卡设置一些程序解释器(如，/usr/bin/perl)，并需要结合相应编程知识来读取 /flag。"

      - id: level-4-2
        name: Level 4.2
        description: "本关卡设置一些程序解释器(如，/usr/bin/ruby)，并需要结合相应编程知识来读取 /flag。"

    resources:
      # - name: "Program Misuse - Privilege Escalation"
      #   type: lecture
      #   video: "438064585"
      #   playlist: "BV1mj411M7NZ"
      #   slides: 1aiHdtSm8xoT0u2XcTo3qYGes5GY__-PK-FlVyNBQAfY
      - name: "References"
        type: markdown
        content: |
          - [Why You Can't Un-Root a Compromised Machine](https://gist.github.com/mudongliang/7b68290c2b4d5da0b7140c8b0e1827d0)

  - id: pwntools-tutorials
    name: Pwntools Tutorials
    description: |
      Pwntools 是一个工具包（包含各种好用的小工具）与软件库，旨在尽可能简化 CTF 比赛的渗透攻击过程，同时尽可能攻击代码的可读性。
      \
      \
      **关卡等级分布：**
      - Level 1.0 - TODO 
    challenges:
  
      - id: level-1-0
        name: Level 1.0
        description: "本关卡设置了一些条件，只有通过这些条件才能获得 /flag。"
  
      # - id: level-1-1
      #   name: Level 1.1
      #   description: ""
  
    resources:
      - name: "References"
        type: markdown
        content: |
          - [Pwntools Tutorials](https://github.com/Gallopsled/pwntools-tutorial)
          - [Pwntools Documentation](https://docs.pwntools.com/en/stable/index.html)
  
  - id: buffer-overflow
    name: Buffer Overflow
    description: |
      利用缓冲区溢出漏洞，可以在 BSS、堆、栈上埋入精心构造的数据载荷，覆盖关键函数指针，最终劫持程序控制流。
      \
      \
      **关卡等级分布：**
      - Level 1.1 - TODO
      - Level 2.1 - TODO
    challenges:

      - id: level-1-1
        name: Level 1.1
        description: "本关卡需利用 ret2text 覆盖返回地址劫持控制流来读取 /flag。"

      - id: level-2-1
        name: Level 2.1
        description: "本关卡需掌握一定的 ptmalloc2 基础知识，通过利用堆缓冲区溢出和 UAF 漏洞来读取 /flag。"
  
  - id: shellcode-injection
    name: Shellcode Injection
    description: |
      通过注入精心构造的 shellcode，获得程序原有行为以外的破坏性能力。  
      \
      \
      **关卡等级分布：**
      - Level 1.1 - TODO
    challenges:
      - id: level-1-1
        name: Level 1.1
        description: "本关卡需注入并执行 shellcode 来读取 /flag。"

  - id: return-oriented-programming
    name: Return Oriented Programming (ROP)
    description: |
      ROP 通过控制程序栈上数据串连 gadgets（如，末尾为 ret 指令的微小代码片段）来达到图灵完备的功能。
      \
      \
      **关卡等级分布：**
      - Level 1.1 - TODO
      - Level 2.1 - TODO
      - Level 2.2 - TODO
      - Level 2.3 - TODO
      - Level 2.4 - TODO
      - Level 2.5 - TODO
    challenges:

      - id: level-1-1
        name: Level 1.1
        description: "本关卡需利用基础的 ROP 知识 ret2syscall 劫持控制流来读取 /flag。"

      - id: level-2-1
        name: Level 2.1
        description: "本关卡需利用基础的 ROP 知识 ret2libc 劫持控制流来读取 /flag。"

      - id: level-2-2
        name: Level 2.2
        description: "本关卡需利用基础的 ROP 知识 ret2libc 劫持控制流来读取 /flag。"

      - id: level-2-3
        name: Level 2.3
        description: "本关卡需利用基础的 ROP 知识 ret2libc 劫持控制流来读取 /flag。"

      - id: level-2-4
        name: Level 2.4
        description: "本关卡需利用基础的 ROP 知识 ret2libc 劫持控制流来读取 /flag。"

      - id: level-2-5
        name: Level 2.5
        description: "本关卡需利用基础的 ROP 知识 ret2libc 劫持控制流来读取 /flag。"

  - id: non-control-data-attacks
    name: Non-Control-Data Attacks
    description: |
      Non-Control-Data 攻击通过破坏各种应用程序数据，包括用户身份数据、配置数据、用户输入数据和决策数据，来完成攻击目标。
      \
      \
      **关卡等级分布：**
      - Level 1.0 - TODO
    challenges:
 
      - id: level-1-0
        name: Level 1.0
        description: "模拟 CVE-2001-0144 通过缓冲区溢出来控制决策数据"

      # - id: level-1-1
      #   name: Level 1.1
      #   description: ""

    resources:
      - name: "References"
        type: markdown
        content: |
          - [Non-Control-Data Attacks Are Realistic Threats](https://www.usenix.org/conference/14th-usenix-security-symposium/non-control-data-attacks-are-realistic-threats)
